(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{169:function(e,r,t){"use strict";t.r(r);var o=t(231),n=t(185);for(var i in n)["default"].indexOf(i)<0&&function(e){t.d(r,e,(function(){return n[e]}))}(i);t(225);var s=t(19),a=Object(s.a)(n.default,o.a,o.b,!1,null,"9474feb2",null);a.options.__file="src/pages/map/components/mapLayer.vue",r.default=a.exports},174:function(e,r,t){"use strict";r.__esModule=!0;var o,n=t(195),i=(o=n)&&o.__esModule?o:{default:o};r.default=i.default||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}},175:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=void 0,n=void 0,i=void 0,s=void 0,a=void 0,l=void 0,c=void 0;r.mapBgUrl=o="http://pnr.sz.gov.cn/d-suplicmap/tilemap_1/rest/services/SZMAP_BASEMAP_GK2K/MapServer",r.uniformUrl=a="http://218.17.85.70:9999",r.uniformUser=l="szdp",r.uniformPassword=c="123456",r.blockUrl=n="http://58.250.156.18:8088",r.blockUser=i="nsapp",r.blockPassword=s="geostar999";r.mapBgUrl=o=" https://rioweb.szns.gov.cn/zsdsjdy/mapServer/arcgis/rest/services/NSKSJ/DTVEC_QS_ZQ_NS/MapServer",r.blockUrl=n="https://rioweb.szns.gov.cn/zsdsjdy/blockServer",r.blockUser=i="nsapp",r.blockPassword=s="geostar999",r.uniformUrl=a="https://rioweb.szns.gov.cn/zsdsjdy/addressServer",r.uniformUser=l="nsltt",r.uniformPassword=c="geostar999",r.mapEnv=1,r.mapBgUrl=o,r.blockUrl=n,r.blockUser=i,r.blockPassword=s,r.uniformUrl=a,r.uniformUser=l,r.uniformPassword=c},185:function(e,r,t){"use strict";t.r(r);var o=t(186),n=t.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){t.d(r,e,(function(){return o[e]}))}(i);r.default=n.a},186:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o,n=t(174),i=(o=n)&&o.__esModule?o:{default:o},s=t(77),a=t(175);var l=null;r.default={name:"mapLayer",props:{mapOptions:Object},provide:function(){return{mapProvider:this.mapProvider}},data:function(){return this.mapProvider={},{domId:"map-"+(new Date).getTime(),mapFlag:!1}},mounted:function(){var e=this,r=this.initMap();this.mapProvider.map=r,r.on("load",(function(){e.mapFlag=!0})),this.addLayerClick()},methods:{initMap:function(){var e=this.$props.mapOptions,r=this.$data.domId;return new GeoGlobe.Map((0,i.default)({container:r,style:{version:8,sources:{bd:{tiles:[a.mapBgUrl+"/tile/{z}/{y}/{x}"],type:"raster",zoomOffset:10,tileSize:256}},layers:[{id:"base_layer",type:"raster",source:"bd","raster-opacity":1}]},mapCRS:{topTileExtent:[-180,-270,180,90],coordtransform:"none"},zoom:11,minZoom:10,maxZoom:22,center:[113.9255976,22.536474762],pitch:0,bearing:0,epsg:"EPSG:4490",doubleClickZoom:!1,isIntScrollZoom:!0,renderWorldCopies:!1,isAttributionControl:!1,is3Dpitching:!1},e))},getMap:function(){return this.mapProvider.map},addLayerClick:function(){var e=this;this.mapProvider.map.on("click",(function(r){var t=e.mapProvider.map.queryRenderedFeatures(r.point,{sourceLayer:"buildLayer"});if(console.log(t),0===t.length)s.Toast.fail("超出操作范围");else{for(var o=!1,n=0;n<t.length;n++)if("buildLayer"===t[n].layer.id){console.log(t[n]),e.showPopup(t[n].properties.lon,t[n].properties.lat,t[n].properties.areaname),o=!0,e.$emit("click",t[n]);break}o||s.Toast.fail("请选择房屋")}}))},showPopup:function(e,r,t){null!==l&&l.remove();var o=[e,r];(l=new GeoGlobe.Popup({closeOnClick:!1}).setLngLat(o).setHTML('<div><div style="margin-right:.2rem;background: #ffffff;">'+t+"</div></div>").addTo(this.mapProvider.map)).on("close",(function(e){console.log(e)}))}}}},187:function(e,r,t){var o=t(226);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};t(72)(o,n);o.locals&&(e.exports=o.locals)},195:function(e,r,t){e.exports={default:t(196),__esModule:!0}},196:function(e,r,t){t(197),e.exports=t(9).Object.assign},197:function(e,r,t){var o=t(16);o(o.S+o.F,"Object",{assign:t(198)})},198:function(e,r,t){"use strict";var o=t(13),n=t(74),i=t(199),s=t(200),a=t(76),l=t(75),c=Object.assign;e.exports=!c||t(45)((function(){var e={},r={},t=Symbol(),o="abcdefghijklmnopqrst";return e[t]=7,o.split("").forEach((function(e){r[e]=e})),7!=c({},e)[t]||Object.keys(c({},r)).join("")!=o}))?function(e,r){for(var t=a(e),c=arguments.length,u=1,p=i.f,d=s.f;c>u;)for(var f,m=l(arguments[u++]),v=p?n(m).concat(p(m)):n(m),b=v.length,h=0;b>h;)f=v[h++],o&&!d.call(m,f)||(t[f]=m[f]);return t}:c},199:function(e,r){r.f=Object.getOwnPropertySymbols},200:function(e,r){r.f={}.propertyIsEnumerable},225:function(e,r,t){"use strict";var o=t(187);t.n(o).a},226:function(e,r,t){(e.exports=t(71)(!1)).push([e.i,".map[data-v-9474feb2]{width:100%;height:100%}\n",""])},231:function(e,r,t){"use strict";t.d(r,"a",(function(){return o})),t.d(r,"b",(function(){return n}));var o=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"map",attrs:{id:this.domId}},[this.mapFlag?this._t("default"):this._e()],2)},n=[];o._withStripped=!0}}]);